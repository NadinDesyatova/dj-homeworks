# Домашнее задание "Выгрузка каталога товаров из csv-файла с сохранением всех позиций в базе данных"

## Решение

Есть некоторый [csv-файл](./phones.csv), который выгружается с сайта-партнера. Этот сайт занимается 
продажей телефонов.

Мы же являемся их региональными представителями, поэтому нам необходимо взять данные из этого 
файла и отобразить их на нашем сайте на странице каталога, с их предварительным сохранением 
в базу данных.

## Реализация

Что необходимо сделать

- В файле `models.py` нашего приложения создана модель Phone с полями `id`, `name`, `price`, 
`image`, `release_date`, `lte_exists` и `slug`. Поле `id` — основной ключ модели.
- Значение поля `slug` устанавливаться слагифицированным значением поля `name`.
- В файле [import_phones.py](./phones/management/commands/import_phones.py) размещен скрипт для переноса данных из csv-файла в модель `Phone`
  (в методе `handle(self, *args, **options)`).
- При запросе `<имя_сайта>/catalog` открывается страница с отображением всех телефонов.
- При запросе `<имя_сайта>/catalog/iphone-x` открывается страница с отображением 
информации по телефону. `iphone-x` — это для примера, это значние берётся из `slug`.
- В каталоге добавлена возможность менять порядок отображения товаров: по названию 
в алфавитном порядке и по цене по убыванию и по возрастанию.
Для реализации сортировки используется параметр `sort` из `request.GET`.

Пример запросов:

- `<имя_сайта>/catalog?sort=name` — сортировка по названию;
- `<имя_сайта>/catalog?sort=min_price` — сначала отображать дешёвые.

## Ожидаемый результат

![Каталог с телефонами](res/catalog.png)

## Документация по проекту

Для запуска проекта необходимо

Установить зависимости:

```bash
pip install -r requirements.txt
```

Выполнить следующие команды:

- При создании моделей или их изменении необходимо выполнить следующие команды:

```bash
python manage.py makemigrations
python manage.py migrate
```

- Команда для загрузки данных из csv в БД

```bash
python manage.py import_phones
```

- Команда для запуска приложения

```bash
python manage.py runserver
```


